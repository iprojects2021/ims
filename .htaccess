# Prevent directory listing
Options -Indexes

# Block direct access to files (e.g., .pdf, .txt, .mp4) â€” images are removed
<FilesMatch "\.(pdf|txt|mp4)$">
    Order Deny,Allow
    Deny from all
</FilesMatch>

# Redirect file requests (excluding images) to download.php
RewriteEngine On
RewriteCond %{REQUEST_URI} \.(pdf|txt|mp4)$ [NC]
RewriteRule ^(.*)$ /download.php?file=$1 [L]
